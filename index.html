<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/styles.css">

  <title>Hazer</title>
  
</head>

<body style="background-image: linear-gradient(to right, rgb(22, 84, 255), rgb(7, 50, 243));text-align: center;">
  <div id="navbar">
    <p><b style="font-family: Arial; color:white;">Verify</b></p>
  </div>
  <br><br><br><br><br><br><br><br><br>
  <div class="container">
    <input type="text" id="text_id" name="yourkey" readOnly=true placeholder="Key" value="" required>
    <input type="text" placeholder="Enter Key" id="info" required>
    <br><br><button style="vertical-align:middle" class="button1" onclick="login()"><span>Verify </span></button>
    <br><br><button class="button1" onclick="generate()"><span>Generate </span></button>
  </div>
</body>

<p id="key"></p>

<script>
  if (sessionStorage.getItem('hazeSession')) { // lol
    console.log('Ready to go!')
    window.location.href = "./home.html";
  }

  function login() {
    var data = document.getElementById('info')
    var key = document.getElementById('key')
    if (data.value == "") {
      setTimeout(function () {
        document.getElementById('info').readOnly = false;
        document.getElementById('info').value = "";
      }, 2000);
      document.getElementById('info').readOnly = true;
      document.getElementById('info').value = "Please type the key!";
      document.getElementsByName('yourkey')[0].value = "";
    } else {
      if (data.value == key.value) {
        event.preventDefault()
        sessionStorage.setItem('hazeSession', 'true')
        window.location.href = "./home.html";
      } else { // this happens if they dont even put the right key cuz they are idiot
        setTimeout(function () {
          document.getElementById('info').readOnly = false;
          document.getElementById('info').value = "";
        }, 2000);
        document.getElementById('info').readOnly = true;
        document.getElementById('info').value = "Thats the wrong key!";
        document.getElementsByName('yourkey')[0].value = "";
        event.preventDefault()
      }
    }
  }

  function generate() {
    var text = "";
    var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

    for (var i = 0; i < 15; i++)
      text += possible.charAt(Math.floor(Math.random() * possible.length));
    document.getElementById('key').value = text
    document.getElementsByName('yourkey')[0].value = text
    return text;
  }

  if (sessionStorage.getItem('hazeSession')) { // lol
    window.location.href = "./home.html";
  }

  window.onscroll = function () { scroll() };


  var navbar = document.getElementById("navbar");

  var sticky = navbar.offsetTop;

  function scroll() {
    if (window.pageYOffset >= sticky) {
      navbar.classList.add("sticky")
    } else {
      navbar.classList.remove("sticky");
    }
  }
</script>